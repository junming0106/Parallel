# 心連心 (Parallel) iOS App 開發指南

## 🚀 如何開始

### 1. 環境需求
- **Xcode 15.0+**
- **iOS 17.0+**
- **macOS 13.0+**

### 2. 開啟專案
1. 打開 `Parallel.xcodeproj`
2. 選擇 iOS 模擬器 (建議使用 iPhone 15)
3. 點擊 ▶️ 運行按鈕

### 3. 第一次運行
- App 會顯示歡迎畫面，點擊「開始體驗」
- 自動創建示例數據，包括：
  - 用戶資料
  - 聊天記錄
  - 日記條目
  - 行事曆事件
  - 位置分享設定

## 📱 主要功能

### 🏠 首頁 (HomeView)
- **交往天數計算器**: 顯示情侶在一起的天數
- **紀念日倒數**: 顯示下一個重要日期
- **快速操作**: 想你按鈕、寫日記、添加活動
- **即將到來**: 顯示近期行事曆事件

### 💬 聊天 (ChatView)
- **訊息氣泡**: 區分發送者和接收者
- **想你按鈕**: 特殊的愛心訊息
- **訊息狀態**: 顯示已送達、已讀等狀態
- **多媒體支援**: 圖片、語音、表情符號

### 📍 位置 (LocationView)
- **地圖顯示**: 顯示雙方位置
- **分享控制**: 選擇分享時間長度
- **距離計算**: 顯示彼此距離和預計到達時間
- **常用地點**: 快速設定家、公司等地點

### 📖 日記 (DiaryView)
- **交換模式**: 鎖定後才能讓對方看到
- **豐富編輯**: 支援天氣、心情標記
- **時間軸**: 按日期顯示所有日記
- **狀態管理**: 撰寫中、已鎖定、已分享、已讀

### 🗓️ 行事曆 (CalendarView)
- **週視圖**: 清楚顯示每週行程
- **事件類型**: 紀念日、約會、旅行、待辦、里程碑
- **智慧提醒**: 可設定提醒時間
- **同步共享**: 雙方都能看到和編輯

## 🔧 技術架構

### 數據層 (SwiftData)
```swift
// 主要數據模型
- User: 用戶資料
- Message: 聊天訊息
- DiaryEntry: 日記條目
- CalendarEvent: 行事曆事件
- LocationShare: 位置分享
```

### 視圖層 (SwiftUI)
```
Views/
├── MainTabView.swift     # 主要導航
├── HomeView.swift        # 首頁
├── ChatView.swift        # 聊天
├── LocationView.swift    # 位置
├── DiaryView.swift       # 日記
├── CalendarView.swift    # 行事曆
└── WelcomeView.swift     # 歡迎畫面
```

### 服務層
```
Services/
├── AppStateManager.swift    # 應用狀態管理
└── DemoDataService.swift   # 示例數據創建
```

## 🎨 設計特色

### 色彩主題
- **主色**: 粉紅色 (Pink) - 愛情主題
- **輔助色**: 藍色、綠色、橙色、紫色 - 功能區分
- **溫馨風格**: 圓角、柔和陰影、溫暖配色

### 互動設計
- **想你按鈕**: 全螢幕愛心動畫
- **日記鎖定**: 防偷看的交換模式
- **位置分享**: 隱私保護的分享控制

## 🔄 後續開發建議

### 立即可做的改進
1. **真實位置權限**: 在設定中啟用位置服務
2. **圖片選擇器**: 完善聊天中的圖片功能
3. **通知推送**: 設定本地通知
4. **數據持久化**: 優化 SwiftData 查詢效能

### 中期目標
1. **Firebase 整合**: 實現真正的後端服務
2. **端對端加密**: 保護聊天隱私
3. **即時同步**: WebSocket 或 Firebase Realtime Database
4. **推送通知**: 遠端通知服務

### 長期規劃
1. **Apple Watch 支援**: 快速互動功能
2. **iPad 適配**: 大螢幕優化
3. **AI 功能**: 智慧提醒、回憶整理
4. **多語言**: 國際化支援

## 🐛 常見問題

### 編譯錯誤
- **缺少權限**: 檢查 Info.plist 中的位置權限設定
- **模擬器問題**: 嘗試不同的 iOS 模擬器版本
- **依賴問題**: 確保 Xcode 版本符合要求

### 功能問題
- **數據不顯示**: 檢查 DemoDataService 是否正確執行
- **位置不更新**: 模擬器中需要手動設定位置
- **動畫卡頓**: 在真實設備上測試效能

## 📞 支援

如果遇到問題，請檢查：
1. **CLAUDE.md** - 技術文件
2. **Parallel_PRD.md** - 產品需求
3. **GitHub Issues** - 已知問題和解決方案

---

**祝您開發順利！讓我們一起打造最棒的情侶 App！ ❤️**