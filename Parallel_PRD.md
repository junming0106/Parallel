### **產品需求文件 (PRD)：《心連心-Parallel》— 情侶專屬情感維繫 App**

**版本：** 1.0
**最後更新日期：** 2025 年 7 月 15 日
**文件作者：** Gemini

### **1. 產品總覽與願景**

**1.1. 產品願景 (Vision)**
在數位化浪潮下，人際關係的維繫面臨新的挑戰。《心連心》的願景是成為情侶們在數位世界中的溫馨港灣。我們致力於打造一款極致私密、充滿樂趣且無縫融入日常生活的工具，不僅解決情侶間的溝通與協作需求，更能透過科技的力量，創造加深情感連結的獨特體驗，讓每一對戀人都能感受到「心心相連」的溫暖。

**1.2. 目標市場與使用者**

- **主要目標群體：** 18-35 歲，對科技產品接受度高，正處於穩定交往關係或遠距離戀愛中的情侶。
- **使用者特徵：**
  - 重視生活的儀式感與共同回憶。
  - 尋求比通用社交軟體（如 Line, Messenger）更私密、更專屬的溝通空間。
  - 希望能輕鬆協調彼此的行程與計畫。
  - 因為距離而渴望獲得對方的即時動態與安全感。

### **2. 產品核心功能 (Features)**

本 App 的核心功能圍繞「溝通」、「陪伴」、「回憶」與「規劃」四個主題展開。

**2.1. 功能一：私密訊息 (Chat)**

- **目標：** 提供一個完全私密、不受干擾且充滿情趣的聊天空間。
- **詳細需求：**
  1.  **端對端加密：** 確保所有訊息內容（文字、圖片、語音、影片）僅有發送方和接收方可以讀取。
  2.  **一對一聊天介面：** 簡潔的聊天視窗，專注於兩人對話。
  3.  **多媒體支援：**
      - 圖片/影片傳送與預覽。
      - 語音訊息錄製與播放。
  4.  **專屬表情包商店：** 提供多款可愛、浪漫風格的免費及付費表情包，增加互動趣味。
  5.  **「想你」按鈕：** 一個特殊按鈕，點擊後會向對方發送一個全螢幕的愛心動畫或震動提醒，用於表達即時的思念。
  6.  **訊息狀態：** 清晰顯示「已傳送」、「已送達」、「已讀」狀態。
  7.  **雲端同步：** 聊天記錄透過 iCloud 安全備份與同步，更換手機也不遺失。

**2.2. 功能二：即時位置與距離追蹤 (Location)**

- **目標：** 在尊重隱私的前提下，提供安心感與便利性。
- **詳細需求：**
  1.  **即時位置分享：**
      - 使用者可自主選擇「永久分享」、「分享 24 小時」、「分享 1 小時」或「關閉分享」。
      - 地圖介面會以可愛的頭像顯示雙方位置。
  2.  **目的地距離追蹤：**
      - **使用者流程：** A 方在地圖上長按設定一個目的地（如「晚餐的餐廳」） -> B 方會收到通知「A 正等你來喔！」 -> B 方手機上會顯示自己與該目的地的即時距離（公尺/公里）和預估到達時間（透過 Apple Maps API 計算）。
      - **電量顯示：** 為避免不必要的焦慮，位置旁可選擇性顯示對方手機的剩餘電量百分比。
  3.  **到離提醒 (Geofencing)：**
      - 使用者可以設定「家」、「公司」等常用地點。
      - 當伴侶「抵達」或「離開」這些地點時，另一方會收到推播通知。此功能需雙方皆同意開啟。
  4.  **隱私與效能：**
      - 位置更新頻率需在背景模式下進行優化，以平衡即時性與電池消耗。
      - 所有位置數據在傳輸過程中皆須加密。

**2.3. 功能三：交換日記 (Shared Diary)**

- **目標：** 創造一個充滿儀式感和驚喜的共同書寫回憶的空間。
- **詳細需求：**
  1.  **共同日記本：** 兩人共享一本數位日記。
  2.  **交換模式：**
      - 預設為「交換模式」。A 方撰寫日記並「鎖上」後，B 方會收到通知「你的交換日記來囉！」。
      - B 方閱讀完畢後，才能輪到 B 方撰寫。撰寫期間，A 方無法窺看。
      - 提供「一起寫」模式，可兩人同時編輯一篇日記。
  3.  **豐富的編輯功能：**
      - 支援文字格式（粗體、斜體）。
      - 可在日記中插入照片，並標註當天日期與天氣。
      - 可更換日記本的封面與紙張樣式。
  4.  **回憶時間軸：** 所有完成的日記會按照日期排列在一個精美的時間軸上，方便隨時回顧。

**2.4. 功能四：共享行事曆 (Shared Calendar)**

- **目標：** 讓情侶間的活動規劃變得簡單、透明且充滿期待。
- **詳細需求：**
  1.  **雙向同步：** 任何一方新增、編輯或刪除事件，另一方的行事曆會立即同步更新。
  2.  **事件類型與標記：**
      - 內建事件類型：「紀念日」、「約會」、「旅行」、「待辦事項」。
      - 使用者可自訂事件標籤與顏色。
  3.  **智慧提醒：**
      - 可自訂提醒時間（如：前一天、前一小時、事件發生時）。
      - 對於「紀念日」類型，會自動建立每年重複的事件。
  4.  **紀念日倒數：**
      - App 主畫面上會有一個顯眼的區塊，顯示距離下一個最重要紀念日（如交往週年）還剩幾天。

**2.5. 功能五：桌面小工具 (Widget)**

- **目標：** 將兩人的連結延伸至手機桌面，時刻感受甜蜜。
- **詳細需求：**
  1.  **多種尺寸支援：** 提供小、中、大三種尺寸的 Widget。
  2.  **小工具類型：**
      - **紀念日倒數 Widget：** 顯示最重要的紀念日倒數計時。
      - **交往天數 Widget：** 顯示兩人從第一天交往至今的總天數。
      - **快速傳情 Widget：** 包含一個「想你」按鈕，點擊後直接發送思念通知。
      - **最新動態 Widget：** 顯示伴侶的最新狀態（需對方同意），例如「正在回家的路上」或「剛完成一篇日記」。

### **3. 技術規格 (Technical Specifications)**

- **平台：** iOS 17.0+
- **UI 框架：** **SwiftUI** - 為了實現現代化、響應式且易於維護的介面，並與 WidgetKit 完美整合。
- **數據持久化：** **SwiftData** - 作為 Apple 最新的數據管理框架，能與 SwiftUI 緊密結合，簡化本地數據的存儲與同步邏輯。
- **小工具：** **WidgetKit** - 用於開發桌面小工具，提供即時資訊預覽。
- **定位服務：** **Core Location** - 用於獲取設備位置，實現即時位置分享與 Geofencing 功能。
- **後端服務 (建議使用 Firebase)：**
  - **認證 (Authentication)：** Firebase Authentication，支援 Apple ID、Email 登入，簡化帳號管理。
  - **資料庫 (Database)：** Firestore，一個 NoSQL 雲端資料庫，適合存儲使用者資料、日記、行事曆事件等結構化數據。
  - **即時通訊 (Realtime)：** Firebase Realtime Database 或 Cloud Messaging (FCM) 搭配 WebSocket，用於實現即時訊息傳遞與狀態同步。
  - **雲端儲存 (Storage)：** Cloud Storage for Firebase，用於儲存使用者上傳的圖片與影片。

### **4. 非功能性需求 (Non-Functional Requirements)**

- **效能 (Performance)：** App 啟動需在 2 秒內完成；地圖縮放、列表滾動等操作必須流暢。
- **安全性 (Security)：** 除了端對端加密，所有與後端伺服器的 API 通訊都必須使用 HTTPS。
- **隱私 (Privacy)：** 在 App Store 上架時，必須清晰填寫隱私權標籤。App 內提供易於理解的隱私權政策，並讓使用者能隨時撤銷位置等敏感權限。
- **可用性 (Usability)：** 遵循 Apple 的人機介面指南 (Human Interface Guidelines)，確保操作直觀，視覺風格與 iOS 系統一致。

### **5. 商業模式與變現策略 (Monetization)**

採用 **Freemium (免費增值)** 模式，吸引使用者免費下載使用核心功能，並透過付費訂閱解鎖高級功能。

- **免費版功能：**
  - 包含所有核心功能（訊息、位置、日記、行事曆、基礎 Widget）。
  - 日記本樣式、表情包有數量限制。
  - 聊天記錄中的圖片儲存空間有限制（如 1GB）。
- **《心連心 Plus》訂閱版：** (可提供月度/年度訂閱)
  - **無限儲存空間：** 無限的圖片與影片儲存。
  - **高級功能：**
    - 解鎖所有付費表情包與日記主題。
    - 查看完整的日記歷史回憶（免費版可能限制只能看近一個月）。
    - 更高級的 Widget 樣式與自訂選項。
  - **無廣告：** 保證純淨的使用體驗。

### **6. 未來藍圖 (Future Roadmap)**

**V1.1 (短期優化):**

- 支援 iPad 版本。
- 推出更多節日主題的表情包與日記封面。
- 根據使用者回饋優化電池效能。

**V2.0 (長期發展):**

- **共享相簿：** 建立一個共同的雲端相簿，按時間或事件分類照片。
- **願望清單 (Bucket List)：** 兩人可以共同編輯「想一起做的一百件事」清單，並標記完成進度。
- **情侶問答挑戰：** 每日或每週推送一個關於彼此喜好或回憶的小問題，增進了解。
- **Apple Watch 支援：** 開發 Apple Watch 應用，實現快速回覆訊息、查看伴侶位置等功能。

---
